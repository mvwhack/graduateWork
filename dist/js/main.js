(()=>{"use strict";document.querySelector(".top-menu").addEventListener("click",(e=>{if(e.target.closest("a")&&""===e.target.closest("a").className){e.preventDefault();const t=e.target.closest("a").hash,o=document.querySelector(t).getBoundingClientRect().top;window.scrollBy({top:o,behavior:"smooth"})}})),(()=>{const e=document.querySelector(".header>.callback-btn"),t=document.querySelector(".modal-overlay"),o=document.querySelector(".modal-callback"),c=o.querySelector(".modal-close"),l=document.querySelector(".button-services");console.log(e);const n=()=>{t.style.display="block",screen.width<768?o.style.display="block":(o.style.display="block",(({timing:e,draw:t,duration:o})=>{let c=performance.now();requestAnimationFrame((function l(n){let a=(n-c)/o;a>1&&(a=1);let s=e(a);t(s),a<1&&requestAnimationFrame(l)}))})({duration:500,timing:e=>e,draw(e){o.style.top=25*e+"%"}}))},a=()=>{o.style.display="none",t.style.display="none"};e.addEventListener("click",(e=>{e.preventDefault(),n()})),l.addEventListener("click",(e=>{e.preventDefault(),n()})),c.addEventListener("click",(()=>{a()})),t.addEventListener("click",(()=>{a()}))})(),(()=>{const e=document.querySelector('[name="form-callback"]'),t=e.querySelectorAll('input[name="fio"]'),o=e.querySelectorAll('input[name="tel"]'),c=(e,t,o)=>[e.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(t,""),""===e.target.value?e.target.classList.remove("success"):o.test(e.target.value)&&e.target.classList.add("success")}))}))];c(t,/[^а-яА-Я\s]+/,/[а-яА-Я\s]{2,}/gi),c(o,/^\+?[78][-\(]?\d{3}\)?-?\d{3}-?\d{2}-?\d{2}$/,/^.{11}$/)})(),(()=>{const e=document.querySelector('[name="form-callback"]'),t=document.createElement("div");try{if(!e)throw new Error("Верните форму на родину!");e.addEventListener("submit",(o=>{o.preventDefault(),(()=>{const o=e.querySelectorAll('input[type="text"]'),c=new FormData(e),l={};var n;console.log(o),t.textContent="Загрузка ...",e.append(t),t.style.color="#e9bb26",c.forEach(((e,t)=>{l[t]=e})),(e=>{let t=!0;return e.forEach((e=>{e.classList.contains("success")||(t=!1)})),t})(o)?(n=l,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(n),headers:{"Contant-type":"application/json"}}).then((e=>e.json()))).then((e=>{o.forEach((e=>{e.value="",e.classList.remove("success")})),t.textContent="Спасибо! Наш манагер с вами Обязательно свяжется!",t.style.color="#00ff0d"})).catch((e=>{t.textContent="Ошибка ...",t.style.color="#ff0000"})):(alert("Данные не валидны!"),t.textContent="")})()}))}catch(e){console.log(e.message)}})()})();